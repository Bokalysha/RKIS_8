# Практическая работа №8
## Spring JMS
**Цель работы:** ознакомиться с механизмом JMS в Spring.

**Общая постановка задачи:** Изменить приложение из практического задания №7 и добавить следующие возможности (пункты со "снежинкой" желательны, но не обязательны):
1. Настроить очередь (Для ActiveMQ или любого другого брокера сообщений JMS) приема сообщений для администратора.
2. При выполнении операций добавления, удаления или редактирования ресурса через REST API / форму создавать соответствующие уведомления и отправлять их в очередь.
3. Любым удобным способом (можно через терминал) продемонстрировать извлечение административных сообщений о выполненных операциях (из п.2).
4. Добавить кнопку-ссылку «купить» на форме. После этого в брокер сообщений отправляется сообщение о том, какой «товар»/сущность хочет купить пользователь.
5. В п.4 "товар" помечается как купленный и не будет показан в общем списке товаров. Необходимо добавить соответствующий столбец, или просто удалить запись о купленном товаре из БД, но перед этим не забыть отправить информацию о товаре в брокер сообщений.
6. Реализовать приложение-сервис приемки сообщений, которое принимает сообщение и на основе содержимого сообщения отправляет e-mail администратору по некоторому адресу (можно использовать константную строку вашего почтового ящика в домене СФУ) о том, что у него хотят купить товар.

## Сборка и результат
_Вариант №2: Смартфон._

Работа была выполнена на основе 7 практической работы и без 5 и 6 пункта.

**Сборка проекта:**
1. Распаковать проект
2. Открыть директорию с проектом в терминале и проверить наличие [Maven](https://maven.apache.org/download.cgi) и [ActiveMQ](https://activemq.apache.org/activemq-6000001-release)
3. Создать базу данных
```
psql -U postgres -h localhost -f create_db.sql
```
4. Собрать проект (_-Dallow.run=false_ - параметр, отменяющий запуск клиента при сборке)
```
sh mvnw clean package -Dallow.run=false 
```
5. Запуск ActiveMQ
```
activemq start 
```
7. Запустить программу
```
java -jar target/Prac8-0.0.1-SNAPSHOT.jar -Dallow.run=true
```
6. После запуска сервера запускается клиент (функционал из работы №7), затем можно перейти на http://localhost:8080/.

![Image alt](https://github.com/Bokalysha/RKIS_8/blob/master/screenshots/1.png)
_Рисунок 1 - Пример вывода в консоль_
